<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bedsure Cost and Margin Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --wayfair-dark-purple: #7F187F;
            --wayfair-light-purple: #C98DC5;
            --wayfair-dark-teal: #01768B;
            --wayfair-light-teal: #84C6D1;
            --wayfair-yellow: #F8CF1C;
            --wayfair-green: #82D170;
            --wayfair-lime: #C6D636;
            --wayfair-gray: #4a5568;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 1px solid #e2e8f0; /* slate-200 */
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05);
        }
        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
        }
        .text-wayfair-purple { color: var(--wayfair-dark-purple); }
        .bg-wayfair-purple { background-color: var(--wayfair-dark-purple); }
        .border-wayfair-purple { border-color: var(--wayfair-dark-purple); }
        .text-wayfair-green { color: var(--wayfair-green); }
        .bg-wayfair-green { background-color: var(--wayfair-green); }
        
        .table-cell-positive { color: #16a34a; font-weight: 600; }
        .table-cell-negative { color: #ef4444; font-weight: 600; }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">

    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800">Bedsure Cost and Margin Overview</h1>
            <p class="text-lg text-slate-600 mt-2">A Deep Dive into Your Portfolio's Performance</p>
        </header>

        <!-- Section 1: Headline Numbers -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="card text-center">
                <div class="mx-auto bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-wayfair-purple" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
                </div>
                <h3 class="text-lg font-semibold text-slate-500">Overall Portfolio Margin</h3>
                <p class="text-5xl font-bold text-wayfair-purple mt-2">14.03%</p>
            </div>
            <div class="card text-center">
                <div class="mx-auto bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-wayfair-green" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"/></svg>
                </div>
                <h3 class="text-lg font-semibold text-slate-500">GRS L12M</h3>
                <p class="text-5xl font-bold text-wayfair-green mt-2">$3.16M</p>
            </div>
            <div class="card text-center">
                <div class="mx-auto bg-slate-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-slate-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
                </div>
                <h3 class="text-lg font-semibold text-slate-500">No of Parts</h3>
                <p class="text-5xl font-bold text-slate-700 mt-2">9,529</p>
            </div>
        </section>

        <!-- Section 2: Competitor Price Matching Analysis -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-2 text-center">Competitor Price Matching Analysis</h2>
            <p class="text-center text-slate-600 mb-8">A comparison of Matched vs. Unmatched products across key metrics.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <h3 class="text-lg font-semibold text-slate-700 mb-2">Part Number Share</h3>
                    <div class="chart-container" style="height: 250px;"><canvas id="partsPieChart"></canvas></div>
                </div>
                <div class="text-center">
                    <h3 class="text-lg font-semibold text-slate-700 mb-2">GRS (Sales) Share</h3>
                    <div class="chart-container" style="height: 250px;"><canvas id="grsPieChart"></canvas></div>
                </div>
                <div class="text-center">
                    <h3 class="text-lg font-semibold text-slate-700 mb-2">Margin Contribution Share</h3>
                    <div class="chart-container" style="height: 250px;"><canvas id="marginPieChart"></canvas></div>
                </div>
            </div>
        </section>

        <!-- Section 3: Margin Structure Breakdown - Matched -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-2 text-center">Margin Structure Breakdown - Matched</h2>
            <p class="text-center text-slate-600 mb-8">How price-matched products are distributed across different margin levels.</p>
            <div class="chart-container"><canvas id="marginStructureChart"></canvas></div>
        </section>
        
        <!-- Section 4: Margin & Price Tier Analysis - Matched -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-2 text-center">Margin & Price Tier Analysis - Matched Products</h2>
            <p class="text-center text-slate-600 mb-8">A breakdown of margin performance by price tier for your price-matched items.</p>
            <div class="chart-container"><canvas id="marginPriceTierChart"></canvas></div>
        </section>

        <!-- Section 5: Contribution Analysis by Margin Tier -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-2 text-center">Contribution Analysis by Margin Tier</h2>
            <p class="text-center text-slate-600 mb-8">Share of Parts, Sales (GRS), and Margin Contribution for each margin tier across the entire portfolio.</p>
            <div class="overflow-x-auto">
                <table id="contribution-table" class="min-w-full bg-white">
                    <thead class="bg-slate-50">
                        <tr>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-slate-600 uppercase tracking-wider">Margin Tier</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider w-1/4">Part # Share</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider w-1/4">GRS Share</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider w-1/3">Margin Contribution Share</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                        <!-- Data rows will be injected by JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- NEW Section: Pricing Strategy Analysis -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-2 text-center">Pricing Strategy Analysis</h2>
            <p class="text-center text-slate-600 mb-8">Performance breakdown by the pricing strategy applied to each product.</p>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white">
                    <thead class="bg-slate-50">
                        <tr>
                            <th class="py-3 px-4 text-left text-sm font-semibold text-slate-600 uppercase tracking-wider">Pricing Strategy</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider"># of Parts</th>
                            <th class="py-3 px-4 text-right text-sm font-semibold text-slate-600 uppercase tracking-wider">Total GRS</th>
                            <th class="py-3 px-4 text-right text-sm font-semibold text-slate-600 uppercase tracking-wider">Total Margin Value</th>
                            <th class="py-3 px-4 text-right text-sm font-semibold text-slate-600 uppercase tracking-wider">Margin %</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                        <tr><td class="py-3 px-4 font-medium">BrandedPromoPassthroughHandler</td><td class="py-3 px-4 text-center">4413</td><td class="py-3 px-4 text-right">$2,063,228.66</td><td class="py-3 px-4 text-right table-cell-positive">$296,825.95</td><td class="py-3 px-4 text-right table-cell-positive">14.39%</td></tr>
                        <tr class="bg-slate-50"><td class="py-3 px-4 font-medium">PiEpsilonHandler</td><td class="py-3 px-4 text-center">1961</td><td class="py-3 px-4 text-right">$899,233.15</td><td class="py-3 px-4 text-right table-cell-positive">$145,183.21</td><td class="py-3 px-4 text-right table-cell-positive">16.15%</td></tr>
                        <tr><td class="py-3 px-4 font-medium">CompetitorTargetPriceHandler</td><td class="py-3 px-4 text-center">15</td><td class="py-3 px-4 text-right">$4,424.17</td><td class="py-3 px-4 text-right table-cell-positive">$1,767.20</td><td class="py-3 px-4 text-right table-cell-positive">39.95%</td></tr>
                        <tr class="bg-slate-50"><td class="py-3 px-4 font-medium">DefaultPricingStrategy</td><td class="py-3 px-4 text-center">3138</td><td class="py-3 px-4 text-right">$196,877.30</td><td class="py-3 px-4 text-right table-cell-negative">-$2,000.00</td><td class="py-3 px-4 text-right table-cell-negative">-1.02%</td></tr>
                         <tr><td class="py-3 px-4 font-medium">ClearancePricingStrategy</td><td class="py-3 px-4 text-center">2</td><td class="py-3 px-4 text-right">$0.00</td><td class="py-3 px-4 text-right">$0.00</td><td class="py-3 px-4 text-right">0.00%</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 7: Deep Dive: Margin Below 0% Analysis -->
        <section class="mb-12">
             <h2 class="text-3xl font-bold text-slate-800 mb-2 text-center">Deep Dive: Unprofitable Products</h2>
             <p class="text-center text-slate-600 mb-8">A closer look at items with margins below 0%.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="card text-center bg-red-50 border-red-200">
                     <div class="mx-auto bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-red-700">Unprofitable Products</h3>
                    <p class="text-5xl font-bold text-red-600 mt-2">1,917</p>
                </div>
                <div class="card text-center bg-red-50 border-red-200">
                    <div class="mx-auto bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-red-700">GRS from Unprofitable Parts</h3>
                    <p class="text-5xl font-bold text-red-600 mt-2">$741k</p>
                </div>
                <div class="card text-center bg-red-50 border-red-200">
                     <div class="mx-auto bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-red-700">Total Margin Loss</h3>
                    <p class="text-5xl font-bold text-red-600 mt-2">-$54k</p>
                </div>
            </div>
        </section>

        <!-- Section 8: Unprofitable Product Breakdown -->
        <section class="card p-6 md:p-8 mb-12">
            <h2 class="text-2xl font-bold text-slate-800 mb-4 text-center">Unprofitable Product Breakdown</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-slate-700 text-center mb-4">Distribution by Price Tier</h3>
                     <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="py-3 px-4 text-left text-sm font-semibold text-slate-600 uppercase tracking-wider">Price Tier</th>
                                    <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider"># of Parts</th>
                                    <th class="py-3 px-4 text-right text-sm font-semibold text-slate-600 uppercase tracking-wider">Margin Loss</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-200">
                                <tr><td class="py-3 px-4 font-medium">35-55</td><td class="py-3 px-4 text-center">543</td><td class="py-3 px-4 text-right table-cell-negative">-$18,040.66</td></tr>
                                <tr class="bg-slate-50"><td class="py-3 px-4 font-medium">20-35</td><td class="py-3 px-4 text-center">566</td><td class="py-3 px-4 text-right table-cell-negative">-$16,913.52</td></tr>
                                <tr><td class="py-3 px-4 font-medium">0-20</td><td class="py-3 px-4 text-center">497</td><td class="py-3 px-4 text-right table-cell-negative">-$9,083.56</td></tr>
                                <tr class="bg-slate-50"><td class="py-3 px-4 font-medium">55-85</td><td class="py-3 px-4 text-center">227</td><td class="py-3 px-4 text-right table-cell-negative">-$7,233.00</td></tr>
                                <tr><td class="py-3 px-4 font-medium">85+</td><td class="py-3 px-4 text-center">84</td><td class="py-3 px-4 text-right table-cell-negative">-$2,811.28</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-slate-700 text-center mb-4">Distribution by Margin Bin</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="py-3 px-4 text-left text-sm font-semibold text-slate-600 uppercase tracking-wider">Margin Bin</th>
                                    <th class="py-3 px-4 text-center text-sm font-semibold text-slate-600 uppercase tracking-wider"># of Parts</th>
                                    <th class="py-3 px-4 text-right text-sm font-semibold text-slate-600 uppercase tracking-wider">Margin Loss</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-slate-200">
                                <tr><td class="py-3 px-4 font-medium">-10% ~ 0%</td><td class="py-3 px-4 text-center">1,373</td><td class="py-3 px-4 text-right table-cell-negative">-$32,160.00</td></tr>
                                <tr class="bg-slate-50"><td class="py-3 px-4 font-medium">&lt; -10%</td><td class="py-3 px-4 text-center">544</td><td class="py-3 px-4 text-right table-cell-negative">-$21,922.02</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-slate-500 mt-16 text-sm">
            <p>Analysis based on data from "Bedsure Product Margin and GRS 7_29 - Sheet1.csv".</p>
        </footer>
    </div>

    <script>
        Chart.register(ChartDataLabels);
        const WAYFAIR_DARK_PURPLE = '#7F187F';
        const WAYFAIR_LIGHT_PURPLE = '#C98DC5';
        const WAYFAIR_DARK_TEAL = '#01768B';
        const WAYFAIR_LIGHT_TEAL = '#84C6D1';
        const WAYFAIR_YELLOW = '#F8CF1C';
        const WAYFAIR_GREEN = '#82D170';
        const WAYFAIR_LIME = '#C6D636';
        const WAYFAIR_GRAY = '#CBD5E1'; // slate-300

        const pieChartOptions = (title) => ({
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.label || '';
                            if (label) { label += ': '; }
                            let value = context.parsed;
                            if (title === 'GRS' || title === 'Margin') {
                                label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value);
                            } else {
                                label += new Intl.NumberFormat('en-US').format(value);
                            }
                            return label;
                        }
                    }
                },
                datalabels: {
                    formatter: (value, ctx) => {
                        const total = ctx.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                        const percentage = (value*100 / total).toFixed(1)+"%";
                        return percentage;
                    },
                    color: '#fff',
                    font: {
                        weight: 'bold',
                        size: 14,
                    }
                }
            }
        });

        // Parts Pie Chart
        new Chart(document.getElementById('partsPieChart'), {
            type: 'doughnut',
            data: {
                labels: ['Matched', 'Not Matched'],
                datasets: [{ data: [6374, 3155], backgroundColor: [WAYFAIR_DARK_PURPLE, WAYFAIR_GRAY], borderColor: '#f8fafc' }]
            },
            options: pieChartOptions('Parts')
        });

        // GRS Pie Chart
        new Chart(document.getElementById('grsPieChart'), {
            type: 'doughnut',
            data: {
                labels: ['Matched', 'Not Matched'],
                datasets: [{ data: [2966886, 197077], backgroundColor: [WAYFAIR_DARK_PURPLE, WAYFAIR_GRAY], borderColor: '#f8fafc' }]
            },
            options: pieChartOptions('GRS')
        });

        // Margin Pie Chart
        new Chart(document.getElementById('marginPieChart'), {
            type: 'doughnut',
            data: {
                labels: ['Matched', 'Not Matched'],
                datasets: [{ data: [385397.73, 58378.63], backgroundColor: [WAYFAIR_DARK_PURPLE, WAYFAIR_GRAY], borderColor: '#f8fafc' }]
            },
            options: pieChartOptions('Margin')
        });

        // Margin Structure Breakdown - Matched
        const marginCtx = document.getElementById('marginStructureChart').getContext('2d');
        new Chart(marginCtx, {
            type: 'bar',
            data: {
                labels: ['<-10%', '-10%~0%', '0%~8%', '8%~15%', '15%~26%', '>26%'],
                datasets: [{
                    label: 'Number of Products',
                    data: [359, 1038, 506, 714, 957, 1170],
                    backgroundColor: (ctx) => ctx.parsed.x < 2 ? '#ef4444' : WAYFAIR_GREEN,
                    borderRadius: 4,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false }, datalabels: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#e2e8f0' }, title: { display: true, text: 'Number of Products' } },
                    x: { grid: { display: false }, title: { display: true, text: 'Margin Bins' } }
                }
            }
        });

        // Margin Price Tier Chart (ADJUSTED)
        const priceTierCtx = document.getElementById('marginPriceTierChart').getContext('2d');
        new Chart(priceTierCtx, {
            type: 'bar',
            data: {
                labels: ['0-20', '20-35', '35-55', '55-85', '85+'],
                datasets: [
                    { label: '<-10%', data: [127, 121, 100, 10, 1], backgroundColor: '#ef4444' },
                    { label: '-10%~0%', data: [245, 349, 361, 76, 7], backgroundColor: '#f87171' },
                    { label: '0%~8%', data: [70, 133, 213, 78, 12], backgroundColor: WAYFAIR_LIGHT_TEAL },
                    { label: '8%~15%', data: [61, 184, 310, 129, 30], backgroundColor: WAYFAIR_DARK_TEAL },
                    { label: '15%~26%', data: [24, 277, 345, 231, 80], backgroundColor: WAYFAIR_LIME },
                    { label: '>26%', data: [34, 232, 413, 308, 183], backgroundColor: WAYFAIR_GREEN }
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    datalabels: { display: false },
                    tooltip: { callbacks: { label: (ctx) => `${ctx.dataset.label}: ${ctx.formattedValue} products` } }
                },
                scales: {
                    x: { stacked: true, grid: { display: false }, title: { display: true, text: 'Price Bins' } },
                    y: { stacked: true, grid: { color: '#e2e8f0' }, title: { display: true, text: 'Number of Products' } }
                }
            }
        });
        
        // Contribution Analysis Table Data
        const contributionData = [
            { tier: '>26%', parts: 17.3, grs: 21.4, margin: 49.6 },
            { tier: '15%~26%', parts: 12.4, grs: 23.8, margin: 35.2 },
            { tier: '8%~15%', parts: 9.6, grs: 14.1, margin: 11.4 },
            { tier: '0%~8%', parts: 7.5, grs: 11.1, margin: 2.9 },
            { tier: '-10%~0%', parts: 14.4, grs: 17.0, margin: -7.2 },
            { tier: '<-10%', parts: 5.7, grs: 6.4, margin: -4.9 }
        ];

        const tableBody = document.querySelector('#contribution-table tbody');
        tableBody.innerHTML = ''; // Clear existing rows before adding new ones
        contributionData.forEach((row, index) => {
            const isPositive = row.margin > 0;
            const tr = `
                <tr class="${index % 2 === 0 ? 'bg-white' : 'bg-slate-50'}">
                    <td class="py-4 px-4 font-medium text-slate-700">${row.tier}</td>
                    <td class="py-4 px-4 text-center text-slate-700">${row.parts}%</td>
                    <td class="py-4 px-4 text-center text-slate-700">${row.grs}%</td>
                    <td class="py-4 px-4 text-center ${isPositive ? 'table-cell-positive' : 'table-cell-negative'}">
                        <div class="flex items-center justify-center gap-2">
                            <span>${row.margin}%</span>
                            <div class="w-2/3 bg-slate-200 rounded-full h-2.5">
                                <div class="${isPositive ? 'bg-green-500' : 'bg-red-500'}" style="width: ${Math.abs(row.margin)}%"></div>
                            </div>
                        </div>
                    </td>
                </tr>
            `;
            tableBody.innerHTML += tr;
        });

    </script>
</body>
</html>
